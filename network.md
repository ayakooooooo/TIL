# ネットワークとは
- つなげる技術と活用する技術
- webサイトのデータを送るための技術 つなげる技術
- 送られてきたデータを見るための技術 活用する技術
***
- ネットワークは双方向
- ネットワークを介してサービスを提供する サーバー
- ネットワークを介してサービスを利用する クライアント
- サーバーとクライアントがデータをやり取りできる共通の決まりごと プロトコル
***
- プロトコル データをやり取りする時の順ばmんに応じて階層に分けられてる
***
- TCP/IPのレイヤー構造
- アプリケーション層
- トランスポート層 どこのソフトに？
- インターネット層  最終的にどこに？
- ネットワークインターフェイス層 次にどこに？
***
- ネットワークには住所がある
- 一つのデータのやり取りには複数の住所が必要
- ソフトウェアにデータを渡す処理に必要な住所
- 送り先のコンピューターや機器にデータを送る処理に必要な住所
- 次に送るコンピューターや機器にータを送る処理に必要な住所
***
- LAN 同じ敷地内にあるネットワーク
- WAN 企業の支社間、家庭と企業など広い地域を結んだネットワーク
- LANとWANは閉じられたネットワーク
- 世界中のネットワーク同士を繋いで地球規模の巨大なネットワークを作り上げたのがインターネット
- インターネットは開かれたネットワーク
***
# データを相手に届けるための技術
- 条件1 データを届けたり受け取れること
- 条件2 相手を特定、届いたか確認
- 条件3 お互いが正しく理解できること
***
- ネットワークを行き来するデータは分割される、これをパケット
- パケットの先頭につける制御情報はヘッダー、末尾につける情報をトレーラー
- ヘッダー データ本体を扱う前に知っておきたい情報 宛先、データの種類、識別番号など
- トレーラー データが正しく送られたかどうか確認 納品書のような役目
- ヘッダー データ本体 トレーラー
- パケットはレイヤーごとに作られる レイヤーの数だけ４回処理される
- プロトコルによって名称が変わる セグメント、データグラム、フレーム パケットでも間違いではない
***
- 一つの相手にデータを送ることをユニキャストと呼ぶ
- ユニキャスト以外 複数の相手に送るマルチキャスト ビデオ会議、ライブ中継
- ネットワーク全体に送るブロードキャスト（一つのネットワーク内にいるすべてのコンピューターや機器に送る）
- どちらかに送るエニーキャスト
***
- TCP/IP 標準的に採用されているプロトコル
- 決定したものをRFCとして公開している
- 新しく採用したり、古い決まり事を削除したり、修正する
***
- アプリケーション層はユーザーに一番近いレイヤー　ユーザーが作成した（or受け取った）データを問題なくやり取りできるように整える
- トランスポート層はデータのやり取りを制御するレイヤー 正しく届いたか確認、経路管理する　『ポート番号』
- インターネット層は最終的に受け取る相手を特定しそこまでの道のりを管理するレイヤー　『IPアドレス』
- ネットワークインターネット層はコンピュータや機器との間のやり取りを管理するレイヤー 次の目的地までを管理 『MACアドレス』
- 他のレイヤーが使う識別子は使用しない
***
- トランスポート層のプロトコル TCPとUDPがある
- webサービス、メールサービスなどほとんどのネットワークサービスではTCP
- 動画配信はUDP
- ネットワークでは一台のコンピューターで同時に複数のソフトウェアとサーバーを使ってサービスを利用することができる
- これは、トランスポート層がソフトウェアごとに仮想的なデータの通路を作り、管理しているから
- 複数の仮想的なデータの通路を区別するためにポート番号という識別子を使う
- ポート番号はソフトウェアごとにつけられる
- 送り手と受け手のポート番号の情報をヘッダーの情報としてデータ本体に追加して送り出す
- データのやり取りはクライアントとサーバーの間で行われる
- クライアントからこのデータを送ってくださいという要求データをサーバーに送る
- この時、クライアントのトランスポート番号は自分と相手、両方のポート番号の情報をヘッダーに追加する
- 自分のポート番号は４９１５２から６５５３５の中から一つ選んでつける
- この番号の範囲を動的/プライベートポート番号と呼ぶ
- 送り先であるサーバー側のポート番号は利用するサーバーソフトの種類によって決められているのでそれを付番する ウェルノウンポート番号
- 
- ポート番号の決め方
- サーバーはクライアントが送ってきた動的/プライベートポート番号を宛先にする
- ヘッダーに追加　宛先：サーバーソフトのポート番号（ウェルノウンポート番号）
- ヘッダーに追加　送り先：クライアントのポート番号（動的/プライベートポート番号）
***
- トランスポート層のプロトコルにはTCPとUDPがある
- まずTCP
- 確実にデータをやり取りするTCP
- 確認応答　データを受け取ったら届きましたと送り手に知らせる　ACK
- 再送　一定時間ACKがなかったら同じデータを再度送る
- シーケンス番号　やり取りするデータに番号をつけて確認する　何番まで送った、何番まで届いた、など
- 3ウェイハンドシェイク
- クライアントからサーバーへ要求するパケットSYN、サーバーの了解SYNとACK、クライアントも了解ACK
- スピード重視のUDP
- TCPのように確実にデータをやり取りする仕組みがない
- シンプルで早い
- ネットワークのほとんどはTCP,動画配信などのスピードが重視されるサービスではUDP
***
- IP
- 最終的にデータを受け取る相手を特定するためのIPアドレス、と、道のりを選択するルーティング、という仕組みがある  
- IPアドレス
- 従来のIPv4と新しいIPv6がある
- IPv4においてIPアドレスは32びっとのデータ  
- どのネットワークか？を表すネットワークアドレスと、そのネットワークのどのコンピュータや機器か？を表すホストアドレスに分かれている
- IPアドレスのクラスがある
- ネットワークの構成で使い分ける
- サブネットマスク
- クラスレスアドレッシング
- グローバルIPアドレスとプライベートIPアドレス
***
- IPv6
- グローバルIPアドレスが足りない
- IPv4とIPv6を共存させる
- IPv6はIPアドレスを節約するための仕組みは必要ない
***
- ルーティング
- 経路選択
- どのルートを選べばいいかを把握する役目
- ルーターという機器によって管理されてる
- ルーターは送るデータについているIPアドレスとルーティングテーブルをみてどのるーとをえらべばいいか判断する
- ルーティングテーブルには二種類ある  
- スタティックルーテングは管理者が手作業でルーティングテーブルをつくる
- ダイナミックルーティングはルーター同士が情報を交換して自動的にルーティングテーブルをつくる
- スタティックルーティングは小規模のネットワークやルートがきまっているネットワークで使用
- ダイナミックルーティングは登録する情報が多い規模のネットワークで使用
- ルーティングプロトコルはルーター同士がルーティングテーブルに必要な情報を交換するときの決まり事
- ルーティングプロトコルには

